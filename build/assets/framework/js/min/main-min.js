!function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.el=t,this.options=e({},this.options),e(this.options,n),this._init()}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},s=i[Modernizr.prefixed("transition")],r={transitions:Modernizr.csstransitions};n.prototype.options={onSubmit:function(){return!1}},n.prototype._init=function(){this.current=0,this.questions=[].slice.call(this.el.querySelectorAll("ol.questions > li")),this.questionsCount=this.questions.length,classie.addClass(this.questions[0],"current"),this.ctrlNext=this.el.querySelector("button.next"),this.progress=this.el.querySelector("div.progress"),this.questionStatus=this.el.querySelector("span.number"),this.currentNum=this.questionStatus.querySelector("span.number-current"),this.currentNum.innerHTML=Number(this.current+1),this.totalQuestionNum=this.questionStatus.querySelector("span.number-total"),this.totalQuestionNum.innerHTML=this.questionsCount,this.error=this.el.querySelector("span.error-message"),this._initEvents()},n.prototype._initEvents=function(){var t=this,e=this.questions[this.current].querySelector("input"),n=function(){e.removeEventListener("focus",n),classie.addClass(t.ctrlNext,"show")};e.addEventListener("focus",n),this.ctrlNext.addEventListener("click",function(e){e.preventDefault(),t._nextQuestion()}),document.addEventListener("keydown",function(e){var n=e.keyCode||e.which;13===n&&(e.preventDefault(),t._nextQuestion())}),this.el.addEventListener("keydown",function(t){var e=t.keyCode||t.which;9===e&&t.preventDefault()})},n.prototype._nextQuestion=function(){if(!this._validade())return!1;this.current===this.questionsCount-1&&(this.isFilled=!0),this._clearError();var t=this.questions[this.current];if(++this.current,this._progress(),!this.isFilled){this._updateQuestionNumber(),classie.addClass(this.el,"show-next");var e=this.questions[this.current];classie.removeClass(t,"current"),classie.addClass(e,"current")}var n=this,i=function(t){r.transitions&&this.removeEventListener(s,i),n.isFilled?n._submit():(classie.removeClass(n.el,"show-next"),n.currentNum.innerHTML=n.nextQuestionNum.innerHTML,n.questionStatus.removeChild(n.nextQuestionNum),e.querySelector("input").focus())};r.transitions?this.progress.addEventListener(s,i):i()},n.prototype._progress=function(){this.progress.style.width=this.current*(100/this.questionsCount)+"%"},n.prototype._updateQuestionNumber=function(){this.nextQuestionNum=document.createElement("span"),this.nextQuestionNum.className="number-next",this.nextQuestionNum.innerHTML=Number(this.current+1),this.questionStatus.appendChild(this.nextQuestionNum)},n.prototype._submit=function(){this.options.onSubmit(this.el)},n.prototype._validade=function(){var t=this.questions[this.current].querySelector("input").value;return""===t?(this._showError("EMPTYSTR"),!1):!0},n.prototype._showError=function(t){var e="";switch(t){case"EMPTYSTR":e="Please fill field before continuing";break;case"INVALIDEMAIL":e="Please fill a valid email address"}this.error.innerHTML=e,classie.addClass(this.error,"show")},n.prototype._clearError=function(){classie.removeClass(this.error,"show")},t.stepsForm=n}(window),function(t){"use strict";function e(){return t.pageXOffset||h.scrollLeft}function n(){return t.pageYOffset||h.scrollTop}function i(t,e){var n=!0;return function(i){n&&(n=!1,setTimeout(function(){n=!0},e),t(i))}}function s(){r()}function r(){L.addEventListener("click",function(){o(S[C])}),k.addEventListener("click",a),w.addEventListener("click",function(){u("right")}),x.addEventListener("click",function(){u("left")}),t.addEventListener("resize",i(function(e){v={width:t.innerWidth,height:t.innerHeight},S.forEach(function(t,e){if(e!==C){var n=t.querySelector(".slide__mover");dynamics.css(n,{translateX:n.offsetWidth})}})},10)),document.addEventListener("keydown",function(t){if(!z){var e=t.keyCode||t.which;switch(e){case 37:u("left");break;case 39:u("right")}}})}function o(t){if(!z){z=!0;var e=t.querySelector(".zoomer");classie.add(e,"zoomer--active"),_.addEventListener("scroll",l),c(e),W&&dynamics.animate(d,{scale:W},{type:dynamics.easeInOut,duration:500}),p(e,function(){W&&(dynamics.stop(d),dynamics.css(d,{scale:1}),d.style.WebkitTransform="none",d.style.transform="none"),classie.add(d,"noscroll"),classie.add(N,"content--open");var n=document.getElementById(t.getAttribute("data-content"));classie.add(n,"content__item--current"),classie.add(n,"content__item--reset"),classie.add(e,"zoomer--notrans"),e.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",e.style.transform="translate3d(0,0,0) scale3d(1,1,1)"})}}function a(){var t=N.querySelector(".content__item--current"),e=S[C].querySelector(".zoomer");classie.remove(N,"content--open"),classie.remove(t,"content__item--current"),classie.remove(d,"noscroll"),W&&(d.style.WebkitTransform="",d.style.transform="");var n=!0;c(e,n),p(t,function(t){classie.remove(this,"content__item--reset"),g=!1,_.removeEventListener("scroll",l),e.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",e.style.transform="translate3d(0,0,0) scale3d(1,1,1)",c(e),setTimeout(function(){classie.remove(e,"zoomer--notrans"),classie.remove(e,"zoomer--active"),e.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",e.style.transform="translate3d(0,0,0) scale3d(1,1,1)"},25),W&&(dynamics.css(d,{scale:W}),dynamics.animate(d,{scale:1},{type:dynamics.easeInOut,duration:500})),z=!1})}function c(t,e){var n=t.querySelector(".zoomer__area"),i={width:n.offsetWidth,height:n.offsetHeight},s=n.getBoundingClientRect(),r=i.width/i.height<v.width/v.height?v.width/i.width:v.height/i.height;W&&!e&&(r/=W),t.style.WebkitTransform="translate3d("+Number(v.width/2-(s.left+i.width/2))+"px,"+Number(v.height/2-(s.top+i.height/2))+"px,0) scale3d("+r+","+r+",1)",t.style.transform="translate3d("+Number(v.width/2-(s.left+i.width/2))+"px,"+Number(v.height/2-(s.top+i.height/2))+"px,0) scale3d("+r+","+r+",1)"}function u(t){var e=S[C],n=e.querySelector(".slide__mover"),i=e.querySelector(".slide__title");C="right"===t?T-1>C?C+1:0:C>0?C-1:T-1;var s=S[C],r=s.querySelector(".slide__mover"),o=s.querySelector(".slide__title");dynamics.animate(n,{opacity:0,translateX:"right"===t?-1*n.offsetWidth/2:n.offsetWidth/2,rotateZ:"right"===t?-10:10},{type:dynamics.spring,duration:2e3,friction:600,complete:function(){dynamics.css(e,{opacity:0,visibility:"hidden"})}}),dynamics.animate(i,{translateX:"right"===t?-250:250,opacity:0},{type:dynamics.bezier,points:[{x:0,y:0,cp:[{x:.2,y:1}]},{x:1,y:1,cp:[{x:.3,y:1}]}],duration:450}),dynamics.css(s,{opacity:1,visibility:"visible"}),dynamics.css(r,{opacity:0,translateX:"right"===t?r.offsetWidth/2:-1*r.offsetWidth/2,rotateZ:"right"===t?10:-10}),dynamics.animate(r,{opacity:1,translateX:0},{type:dynamics.spring,duration:2e3,friction:600,complete:function(){S.forEach(function(t){classie.remove(t,"slide--current")}),classie.add(s,"slide--current")}}),dynamics.css(o,{translateX:"right"===t?250:-250,opacity:0}),dynamics.animate(o,{translateX:0,opacity:1},{type:dynamics.bezier,points:[{x:0,y:0,cp:[{x:.2,y:1}]},{x:1,y:1,cp:[{x:.3,y:1}]}],duration:650})}function l(){g||(g=!0,q=_.scrollLeft,b=_.scrollTop),_.scrollTop=b,_.scrollLeft=q}var d=document.getElementById("home-content"),h=t.document.documentElement,m={transitions:Modernizr.csstransitions},f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},y=f[Modernizr.prefixed("transition")],p=function(t,e){var n=function(t){if(m.transitions){if(t.target!=this)return;this.removeEventListener(y,n)}e&&"function"==typeof e&&e.call(this)};m.transitions?t.addEventListener(y,n):n()},v={width:t.innerWidth,height:t.innerHeight},g=!1,q,b,_=document.querySelector(".container"),E=document.querySelector(".slider"),S=[].slice.call(E.querySelectorAll(".slide")),T=S.length,w=E.querySelector(".button--nav-next"),x=E.querySelector(".button--nav-prev"),L=E.querySelector(".button--zoom"),N=document.querySelector(".content"),k=N.querySelector("button.button--close"),C=0,z=!1,M="undefined"!=typeof InstallTrigger,W=M?!1:3;s()}(window);